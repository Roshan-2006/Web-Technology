<!doctype html>
<html lang="en">
<head>
  <meta charset="utf-8">
  <meta name="viewport" content="width=device-width,initial-scale=1">
  <title>Online Parking Management System - Registration</title>
  <style>
    :root{--accent:#1f7a8c;--error:#c62828}
    body{font-family:Arial,Helvetica,sans-serif;max-width:820px;margin:1.25rem auto;padding:1rem;color:#111}
    header{text-align:center;margin-bottom:1rem}
    form{background:#f9f9f9;padding:1rem;border-radius:8px;border:1px solid #e3e3e3}
    .row{display:flex;flex-direction:column;margin-bottom:.75rem}
    label{font-weight:600;margin-bottom:.25rem}
    input,textarea{padding:.5rem;border:1px solid #ccc;border-radius:4px;font-size:1rem}
    textarea{resize:vertical}
    .actions{display:flex;gap:.5rem;margin-top:.75rem}
    .btn{background:var(--accent);color:#fff;padding:.5rem .75rem;border:none;border-radius:6px;cursor:pointer}
    .btn.secondary{background:#666}
    .error{color:var(--error);font-size:.9rem;margin-top:.25rem}
    .success{color:green;font-weight:700;margin-top:.5rem}
    .field-inline{display:flex;gap:.5rem;align-items:center}
    .visually-hidden{position:absolute!important;height:1px;width:1px;overflow:hidden;clip:rect(1px,1px,1px,1px);white-space:nowrap;border:0;padding:0;margin:-1px}
  </style>
</head>
<body>
  <header>
    <h1>Online Parking Management System</h1>
    <p>New User Registration</p>
  </header>

  <main>
    <form id="regForm" novalidate>
      <p>Please fill in the details below. All validations run on submit.</p>

      <div class="row">
        <label for="fname">First Name</label>
        <input id="fname" name="firstname" type="text" autocomplete="given-name" placeholder="Enter first name" required>
        <div id="fnameError" class="error" aria-live="polite"></div>
      </div>

      <div class="row">
        <label for="lname">Last Name</label>
        <input id="lname" name="lastname" type="text" autocomplete="family-name" placeholder="Enter last name" required>
        <div id="lnameError" class="error" aria-live="polite"></div>
      </div>

      <div class="row">
        <label for="pwd">Password</label>
        <input id="pwd" name="password" type="password" placeholder="Enter password" required>
        <div id="pwdError" class="error" aria-live="polite"></div>
      </div>

      <div class="row">
        <label for="email">E-mail</label>
        <input id="email" name="email" type="email" autocomplete="email" placeholder="name@domain.com" required>
        <div id="emailError" class="error" aria-live="polite"></div>
      </div>

      <div class="row">
        <label for="mobile">Mobile Number</label>
        <input id="mobile" name="mobile" type="tel" inputmode="numeric" placeholder="10 digit mobile number" required>
        <div id="mobileError" class="error" aria-live="polite"></div>
      </div>

      <div class="row">
        <label for="address">Address</label>
        <textarea id="address" name="address" rows="4" placeholder="Enter delivery address" required></textarea>
        <div id="addressError" class="error" aria-live="polite"></div>
      </div>

      <div class="actions">
        <button type="submit" class="btn">Register Account</button>
        <button type="reset" class="btn secondary">Clear Form</button>
      </div>

      <div id="result" class="success" role="status" aria-live="polite" style="display:none"></div>
    </form>
  </main>

  <footer style="text-align:center;margin-top:1rem">
    <small>&copy; <span id="year"></span> Online Parking Management System</small>
  </footer>

  <script>
    // Set current year
    document.getElementById('year').textContent = new Date().getFullYear();

    // Validation rules per algorithm
    const fnameInput = document.getElementById('fname');
    const lnameInput = document.getElementById('lname');
    const pwdInput = document.getElementById('pwd');
    const emailInput = document.getElementById('email');
    const mobileInput = document.getElementById('mobile');
    const addressInput = document.getElementById('address');

    const fnameError = document.getElementById('fnameError');
    const lnameError = document.getElementById('lnameError');
    const pwdError = document.getElementById('pwdError');
    const emailError = document.getElementById('emailError');
    const mobileError = document.getElementById('mobileError');
    const addressError = document.getElementById('addressError');
    const result = document.getElementById('result');

    // Regex patterns
    const nameAlphaRegex = /^[A-Za-z]+$/; // only alphabets, no spaces per requirement
    const emailRegex = /^[A-Za-z0-9._%+-]+@[A-Za-z0-9.-]+\.[A-Za-z]{2,}$/;
    const mobileRegex = /^\d{10}$/;

    function clearErrors() {
      fnameError.textContent = '';
      lnameError.textContent = '';
      pwdError.textContent = '';
      emailError.textContent = '';
      mobileError.textContent = '';
      addressError.textContent = '';
      result.style.display = 'none';
      result.textContent = '';
    }

    function validateFirstName() {
      const v = fnameInput.value.trim();
      if (v.length === 0) {
        fnameError.textContent = 'First Name is required.';
        return false;
      }
      if (!nameAlphaRegex.test(v)) {
        fnameError.textContent = 'First Name must contain only alphabets.';
        return false;
      }
      if (v.length < 6) {
        fnameError.textContent = 'First Name must be at least 6 characters long.';
        return false;
      }
      return true;
    }

    function validatePassword() {
      const v = pwdInput.value;
      if (v.length < 6) {
        pwdError.textContent = 'Password must be at least 6 characters long.';
        return false;
      }
      return true;
    }

    function validateEmail() {
      const v = emailInput.value.trim();
      if (v.length === 0) {
        emailError.textContent = 'E-mail is required.';
        return false;
      }
      if (!emailRegex.test(v)) {
        emailError.textContent = 'Invalid email format. Use name@domain.com.';
        return false;
      }
      return true;
    }

    function validateMobile() {
      const v = mobileInput.value.trim();
      if (!mobileRegex.test(v)) {
        mobileError.textContent = 'Mobile number must contain exactly 10 digits and no letters or special characters.';
        return false;
      }
      return true;
    }

    function validateLastName() {
      const v = lnameInput.value.trim();
      if (v.length === 0) {
        lnameError.textContent = 'Last Name cannot be empty.';
        return false;
      }
      return true;
    }

    function validateAddress() {
      const v = addressInput.value.trim();
      if (v.length === 0) {
        addressError.textContent = 'Address cannot be empty.';
        return false;
      }
      return true;
    }

    document.getElementById('regForm').addEventListener('submit', function (e) {
      e.preventDefault(); // prevent actual submission for demo
      clearErrors();

      // Run validations in order; focus first invalid field
      if (!validateFirstName()) { fnameInput.focus(); return; }
      if (!validatePassword()) { pwdInput.focus(); return; }
      if (!validateEmail()) { emailInput.focus(); return; }
      if (!validateMobile()) { mobileInput.focus(); return; }
      if (!validateLastName()) { lnameInput.focus(); return; }
      if (!validateAddress()) { addressInput.focus(); return; }

      // If all validations pass
      result.style.display = 'block';
      result.textContent = 'Registration successful. Form data is valid.';
      // In a real application, submit the form data to the server here using fetch or form.submit()
    });

    // Optional: clear inline error when user edits a field
    fnameInput.addEventListener('input', () => { fnameError.textContent = ''; });
    lnameInput.addEventListener('input', () => { lnameError.textContent = ''; });
    pwdInput.addEventListener('input', () => { pwdError.textContent = ''; });
    emailInput.addEventListener('input', () => { emailError.textContent = ''; });
    mobileInput.addEventListener('input', () => { mobileError.textContent = ''; });
    addressInput.addEventListener('input', () => { addressError.textContent = ''; });

    // Reset handler clears messages
    document.querySelector('form').addEventListener('reset', () => {
      setTimeout(clearErrors, 0);
    });
  </script>
</body>
</html>
